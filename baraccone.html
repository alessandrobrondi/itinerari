c<!DOCTYPE html>
<html lang="it">

<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Colla del Baraccone | Itinerari MTB</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>

body{
font-family:'Inter',Arial;
background:#d9d1c7 url("sfondo.jpg") repeat;
margin:0;
color:#222;
}

.container{
max-width:950px;
margin:40px auto;
background:rgba(255,255,255,0.95);
padding:35px;
border-radius:12px;
box-shadow:0 4px 8px rgba(0,0,0,0.2);
}

h1{
text-align:center;
margin-bottom:25px;
}

h2{
text-align:center;
color:#6b5b45;
font-weight:normal;
margin-top:0;
margin-bottom:25px;
}

.descrizione{
background:#e9e1d4;
padding:20px;
border-radius:10px;
line-height:1.7;
margin-bottom:25px;
text-align:justify;
}

.stats{

display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:15px;
margin-bottom:25px;

}

.stat{

background:#f3eee6;
padding:15px;
border-radius:8px;
text-align:center;

}

.value{
font-size:22px;
font-weight:bold;
}

.label{
font-size:13px;
color:#666;
}

#map{
height:500px;
border-radius:10px;
margin-bottom:20px;
box-shadow:0 2px 6px rgba(0,0,0,0.2);
}

#elevationChart{
height:220px;
}

.buttons{
text-align:center;
margin-top:25px;
}

.btn{
display:inline-block;
padding:10px 20px;
margin:5px;
border-radius:6px;
text-decoration:none;
font-weight:bold;
}

.download{
background:#ffcc66;
color:black;
}

.back{
background:#006600;
color:white;
}

</style>

</head>

<body>

<div class="container">

<h1>Colla del Baraccone ( Percorso NOTTELONGA 2004 )</h1>

<h2>Altare – Monte Burot – Colla del Baraccone - Loc. Nuxetta - Strada Roviasca - Altare</h2>

<div class="descrizione">

<p>
	<p>Il percorso illustrato in questo servizio è stato utilizzato nella Nottelonga, manifestazione notturna tenutasi il 18 dicembre 2004, con partenza ed arrivo ad Altare.</p>
	<p>Si parte da piazza Vittorio Veneto, dove è agevole parcheggiare l’auto. Si imbocca la strada statale in direzione Savona che si segue su asfalto sino al Km 1.1, quando è necessario svoltare a destra in salita poco prima di un semaforo che regola l'accesso ad una galleria. Abbiamo imboccato l'Alta Via dei Monti Liguri (segnaletica “AV”) e inizia a questo punto la salita che dopo alcune centinaia di metri diventa sterrata. Al km 2.5 in prossimità di un bivio presso una cava si tiene la destra e seguendo sempre la strada principale si continua a salire fino al km 4.8 quando in corrispondenza di un metanodotto si svolta verso destra.</p>
	<p>Seguendo sempre il segnale AV dopo circa un km si entra nel bosco e si giunge sul crinale della vetta del Monte Baraccone fino al km 6.8 dove occorre prestare attenzione in quanto è necessario  abbandonare l'Alta Via che piega a destra in discesa per proseguire diritti su un tecnico sentiero che inizia dopo pochi metri a scendere. .Percorsi circa 400 m il sentiero riporta nuovamente sull'Alta Via che si imbocca verso sinistra continuando a scendere sino a incontrare una larga strada carrabile al km 7.6. La carrabile viene presa verso sinistra in discesa sino al km 9.1 presso la cascina Nuxetta.</p>
	<p>Si sale seguendo la traccia principale fino al km 15.9 fino alla cava e al bivio incontrato precedentemente. Si prende a sinistra ripercorrendo per 300 m il tratto percorso in precedenza, quando nei pressi di un tornante presso la vasca dell'acquedotto si gira a destra in discesa nel bosco. Si incontrano 2 bivi e in entrambi i casi si piega a sinistra (attenzione alla ghiaia). Si trascurano i successivi bivi fino al km 17.3 dove presso la cascina "La Vera" si svolta a sinistra imboccando una sterrata che in breve si trasforma in cementata e in asfaltata poche decine di metri prima di ritrovarsi in Piazza Vittorio Veneto di Altare, punto di partenza dell'itinerario.</p>
</p>

</div>

<div class="stats">

<div class="stat">
<div class="value" id="dist">--</div>
<div class="label">Distanza</div>
</div>

<div class="stat">
<div class="value">600 m</div>
<div class="label">Dislivello +</div>
</div>

<div class="stat">
<div class="value" id="quotaMax">--</div>
<div class="label">Quota massima</div>
</div>

<div class="stat">
<div class="value">1h45</div>
<div class="label">Tempo</div>
</div>

</div>

<div id="map"></div>

<canvas id="elevationChart"></canvas>

<div class="buttons">

<a href="Baraccone.gpx" class="btn download">
⬇️ Scarica GPX
</a>

<a href="../itinerari.html" class="btn back">
← Torna agli itinerari
</a>

</div>

</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

const map=L.map('map');

L.tileLayer(
'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
{attribution:'© OpenStreetMap'}
).addTo(map);

fetch("Colle_Termine_5_Ponti.gpx")

.then(r=>r.text())

.then(gpx=>{

const parser=new DOMParser();
const xml=parser.parseFromString(gpx,"text/xml");

const pts=xml.getElementsByTagName("trkpt");

let latlngs=[];
let elevations=[];
let distances=[];

let totalDist=0;

function hav(a,b){

const R=6371;

const dLat=(b[0]-a[0])*Math.PI/180;
const dLon=(b[1]-a[1])*Math.PI/180;

const lat1=a[0]*Math.PI/180;
const lat2=b[0]*Math.PI/180;

const x=Math.sin(dLat/2)**2+
Math.sin(dLon/2)**2*Math.cos(lat1)*Math.cos(lat2);

const c=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));

return R*c;

}

for(let i=0;i<pts.length;i++){

let lat=parseFloat(pts[i].getAttribute("lat"));
let lon=parseFloat(pts[i].getAttribute("lon"));

let ele=pts[i].getElementsByTagName("ele")[0];
let elev=ele?parseFloat(ele.textContent):0;

latlngs.push([lat,lon]);
elevations.push(elev);

if(i>0){
totalDist+=hav(latlngs[i-1],latlngs[i]);
}

distances.push(totalDist);

}

/* linea percorso */

const poly=L.polyline(latlngs,{color:'red'}).addTo(map);

map.fitBounds(poly.getBounds());

/* marker partenza arrivo */

L.marker(latlngs[0]).addTo(map).bindPopup("Partenza");

L.marker(latlngs[latlngs.length-1]).addTo(map).bindPopup("Arrivo");

/* marker dinamico */

const hoverMarker=L.circleMarker(latlngs[0],{
radius:6,
color:"blue",
fillColor:"blue",
fillOpacity:1
}).addTo(map);

/* distanza totale */

document.getElementById("dist").innerHTML=totalDist.toFixed(1)+" km";

/* quota massima */

let max=Math.max(...elevations);

document.getElementById("quotaMax").innerHTML=Math.round(max)+" m";

/* grafico altimetrico */

const chart=new Chart(document.getElementById("elevationChart"),{

type:"line",

data:{
labels:distances.map(d=>d.toFixed(1)),
datasets:[{
data:elevations,
fill:true,
tension:0.2
}]
},

options:{

plugins:{legend:{display:false}},

interaction:{
mode:'index',
intersect:false
},

scales:{
x:{title:{display:true,text:"Distanza (km)"}},
y:{title:{display:true,text:"Quota (m)"}}
},

onHover:(event,elements)=>{

if(elements.length>0){

let i=elements[0].index;

hoverMarker.setLatLng(latlngs[i]);

}

}

}

});

});

</script>

</script>

</body>
</html>